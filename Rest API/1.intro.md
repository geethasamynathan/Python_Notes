# REST API in Python with MySQL 

## Introduction

A **REST API** (Representational State Transfer Application Programming Interface) is a way to allow web applications to communicate over HTTP.  we will build a REST API using Python (Flask) and MySQL, implementing CRUD (Create, Read, Update, Delete) functionalities.

## Prerequisites
Python (>=3.x)

MySQL Database

pip (Python package manager)

Postman (for testing API)

## Step 1: Install Required Packages

Open a terminal and install Flask and MySQL Connector:

`pip install flask flask-mysql flask-cors`

### 1. Flask
 Flask is a **lightweight and flexible web framework** for Python that allows developers to build web applications and REST APIs easily. It follows the WSGI (Web Server Gateway Interface) standard and is designed to be simple and extendable.
 #### Key Features:
**Minimalistic:** Provides the core functionality needed for web development without unnecessary features.

**Extensible:** Supports plugins and extensions for adding database support, authentication, and more.

**Built-in Development Server:** Helps in running and testing applications locally.

**Routing System:** Allows defining URL routes easily.

### 2. Flask-MySQL
Flask-MySQL is an extension that helps integrate MySQL databases with Flask applications. It provides an easy way to connect Flask with a MySQL database and perform database operations like querying and updating records.

### Key Features:
Simplifies database connections in Flask.

Uses MySQL as the backend database.

Allows executing SQL queries from Flask applications.

### 3. Flask-CORS
**Flask-CORS** is a Flask extension that enables Cross-Origin Resource Sharing (CORS) for Flask applications. It allows a web application running on one domain (e.g., http://localhost:3000) to make requests to a server on another domain (http://localhost:5000).

### Why is CORS Needed?
By default, web browsers block cross-origin requests due to security reasons. If a front-end application (like React or Angular) needs to fetch data from a Flask API hosted on a different domain, CORS must be enabled.

## Step 2: Set Up MySQL Database

Open MySQL Workbench or MySQL CLI.

Create a new database:

`CREATE DATABASE api_db;`

`USE api_db;`

```sql
 CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    age INT NOT NULL
);

insert into users(name,email,age) values('Pem','pem@mail.com',34)

insert into users(name,email,age) values('Ram','ram@mail.com',56)
```

## Step 3: Create a Flask Project
Create a new folder (flask_rest_api) and inside it, create app.py

open app.py

## Step 4: Set Up Flask and Connect to MySQL

Edit app.py and add the following:

```python
from flask import Flask, request, jsonify
from flask_cors import CORS
import mysql.connector

app = Flask(__name__)
CORS(app)

# MySQL Configuration
conn = mysql.connector.connect(
    host='localhost',
    user='root',
    password='yourpassword',
    database='api_db'
)
cursor = conn.cursor()
```
# Step 5: Implement CRUD Operations

```python
1. Create User (POST)
@app.route('/users', methods=['POST'])
def add_user():
    data = request.json
    name = data['name']
    email = data['email']
    age = data['age']
    cursor.execute("INSERT INTO users (name, email, age) VALUES (%s, %s, %s)", (name, email, age))
    conn.commit()
    return jsonify({"message": "User added successfully"}), 201

2. Get All Users (GET)

@app.route('/users', methods=['GET'])
def get_users():
    cursor.execute("SELECT * FROM users")
    users = cursor.fetchall()
    return jsonify(users)

3. Get User by ID (GET)

@app.route('/users/<int:id>', methods=['GET'])
def get_user(id):
    cursor.execute("SELECT * FROM users WHERE id = %s", (id,))
    user = cursor.fetchone()
    if user:
        return jsonify(user)
    return jsonify({"message": "User not found"}), 404

4. Update User (PUT)

@app.route('/users/<int:id>', methods=['PUT'])
def update_user(id):
    data = request.json
    name = data['name']
    email = data['email']
    age = data['age']
    cursor.execute("UPDATE users SET name=%s, email=%s, age=%s WHERE id=%s", (name, email, age, id))
    conn.commit()
    return jsonify({"message": "User updated successfully"})

5. Delete User (DELETE)

@app.route('/users/<int:id>', methods=['DELETE'])
def delete_user(id):
    cursor.execute("DELETE FROM users WHERE id=%s", (id,))
    conn.commit()
    return jsonify({"message": "User deleted successfully"})
```
## Step 6: Run the Flask Application

Run the application using:

python app.py

Your API will run on http://127.0.0.1:5000/

## Step 7: Test API with Postman

Use Postman to send requests:

Create User (POST)

URL: http://127.0.0.1:5000/users

```json

{
  "name": "John Doe",
  "email": "john@example.com",
  "age": 30
}
```
## Get All Users (GET)

URL: http://127.0.0.1:5000/users

## Get User by ID (GET)

URL: http://127.0.0.1:5000/users/1

## Update User (PUT)

URL: http://127.0.0.1:5000/users/1

```json
{
  "name": "Jane Doe",
  "email": "jane@example.com",
  "age": 25
}
```
## Delete User (DELETE)

URL: http://127.0.0.1:5000/users/1

### Conclusion

You have successfully built a REST API with Flask and MySQL covering all CRUD operations. This API can be integrated with frontend applications or mobile apps.