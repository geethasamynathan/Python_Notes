# CRUD Operations with MySQL in Python 

`pip install mysql-connector-python`

## Database Setup

## Create a database and a table in MySQL:

```sql
CREATE DATABASE testdb;
USE testdb;

CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100),
    email VARCHAR(100) UNIQUE
);
```

## Python Script for CRUD Operations

```python
import mysql.connector
from mysql.connector import Error

# Database Connection
def create_connection():
    try:
        connection = mysql.connector.connect(
            host='localhost',
            user='root',  # Change as per your MySQL username
            password='password',  # Change as per your MySQL password
            database='testdb'
        )
        if connection.is_connected():
            print("Connected to MySQL")
        return connection
    except Error as e:
        print(f"Error: {e}")
        return None
```
# CREATE Operation
```python
def create_user(name, email):
    try:
        connection = create_connection()
        if connection:
            cursor = connection.cursor()
            query = "INSERT INTO users (name, email) VALUES (%s, %s)"
            cursor.execute(query, (name, email))
            connection.commit()
            print("User added successfully")
    except Error as e:
        print(f"Failed to insert record: {e}")
    finally:
        if connection:
            connection.close()


# READ Operation
def get_users():
    try:
        connection = create_connection()
        if connection:
            cursor = connection.cursor()
            cursor.execute("SELECT * FROM users")
            records = cursor.fetchall()
            for row in records:
                print(row)
    except Error as e:
        print(f"Failed to retrieve records: {e}")
    finally:
        if connection:
            connection.close()

# UPDATE Operation
def update_user(user_id, name, email):
    try:
        connection = create_connection()
        if connection:
            cursor = connection.cursor()
            query = "UPDATE users SET name=%s, email=%s WHERE id=%s"
            cursor.execute(query, (name, email, user_id))
            connection.commit()
            print("User updated successfully")
    except Error as e:
        print(f"Failed to update record: {e}")
    finally:
        if connection:
            connection.close()

# DELETE Operation
def delete_user(user_id):
    try:
        connection = create_connection()
        if connection:
            cursor = connection.cursor()
            query = "DELETE FROM users WHERE id=%s"
            cursor.execute(query, (user_id,))
            connection.commit()
            print("User deleted successfully")
    except Error as e:
        print(f"Failed to delete record: {e}")
    finally:
        if connection:
            connection.close()

# Example Usage
if __name__ == "__main__":
    create_user("John Doe", "john@example.com")
    get_users()
    update_user(1, "John Smith", "johnsmith@example.com")
    delete_user(1)
```
Explanation

## Database Connection Handling:

create_connection() function establishes a connection to the MySQL database and handles errors.

## Exception Handling:

Each CRUD function includes try-except-finally blocks to handle errors gracefully.

finally ensures that the database connection is closed.

CRUD Operations:

create_user(): Inserts a new record.

get_users(): Retrieves all records.

update_user(): Updates a record.

delete_user(): Deletes a record.